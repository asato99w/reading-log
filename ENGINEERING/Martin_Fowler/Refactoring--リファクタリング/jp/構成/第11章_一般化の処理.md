# 第11章：一般化の処理

## 章概要
この章は継承階層で作業するリファクタリングに対処し、より良い抽象化を作成し重複を排除するために階層の上下で機能を移動する。

## 主要内容
- **階層での機能移動**
  - フィールドの引き上げ：サブクラスで使用されるフィールドをスーパークラスに移動
  - メソッドの引き上げ：サブクラスで同一結果のメソッドをスーパークラスに移動
  - コンストラクタ本体の引き上げ：共通コンストラクタコードをスーパークラスに移動
  - メソッドの押し下げ：一部のサブクラスにのみ関連するメソッドを階層下に移動
  - フィールドの押し下げ：一部のサブクラスにのみ使用されるフィールドを階層下に移動

- **抽象化の作成と洗練**
  - サブクラスの抽出：一部のインスタンスのみが使用する機能サブセット用サブクラス作成
  - スーパークラスの抽出：2つのクラスに類似機能があるときスーパークラス作成
  - インターフェースの抽出：複数クライアントがクラスインターフェースの同じサブセット使用時インターフェース作成
  - 階層の平坦化：スーパークラスとサブクラスが十分異なっていないときマージ

- **テンプレートメソッドと戦略パターン**
  - テンプレートメソッドの形成：サブクラスが同じ順序で同じことを異なる方法で行うときテンプレートメソッド作成
  - 継承を委譲で置換：サブクラスがスーパークラスインターフェースの一部のみ使用時委譲使用
  - 委譲を継承で置換：単純な関係で委譲が面倒になるとき継承使用

## 重要なポイント
- 継承階層は本物の「is-a」関係を反映すべき
- 共通振る舞いはスーパークラスに、特殊化された振る舞いはサブクラスに属する
- コード再利用には継承より委譲が良い場合がある