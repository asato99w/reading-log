# 第3章：コードの不吉な臭い

## 章概要
この章は、ケント・ベックとの共著で、「コード臭」の概念を導入する - コードがリファクタリング機会を示唆する症状。規則を提供するのではなく、問題のあるコードを認識するための直感を訓練する。

## 主要内容
- **22のコード臭**
  - 重複コード：複数の場所での同じコード構造
  - 長いメソッド：多くをしようとして理解が困難なメソッド
  - 巨大クラス：責任が多すぎるクラス
  - 長いパラメータリスト：パラメータが多すぎるメソッド
  - 変更の発散：複数の理由で変更されるクラス
  - ショットガン手術：1つの変更で多くの小さな編集が必要
  - 機能への羨望：他のクラスにより興味があるメソッド
  - データの群れ：同じデータグループが一緒に現れる
  - プリミティブの強迫観念：オブジェクトの代わりにプリミティブの過度使用
  - switch文：ポリモーフィズムの代わりにタイプベースの切り替え
  - 並行継承階層：ペアになったクラス階層
  - 怠け者クラス：存在を正当化するほど働いていないクラス
  - 投機的一般性：不要な抽象化
  - 一時フィールド：特定の状況でのみ使用されるフィールド
  - メッセージチェーン：長いメソッド呼び出しチェーン
  - 仲介者：他に委譲するだけのクラス
  - 不適切な親密さ：互いについて知りすぎているクラス
  - 異なるインターフェースでの代替クラス：異なるメソッドを持つ類似クラス
  - 不完全ライブラリクラス：必要な機能が不足しているライブラリ
  - データクラス：データのみでの振る舞いがないクラス
  - 拒否された遺産：スーパークラス機能を使用しないサブクラス
  - コメント：不明確なコードを示すコメントの必要性

- **臭いのパターンと関係**
  - 臭いがどのように複合し相互作用するか
  - どの臭いが最も深刻か
  - 文脈依存臭い評価
  - チーム固有臭い許容度

## 重要なポイント
- コード臭は正確ではなく直感的 - 問題の「嗅覚」を開発
- すべての臭いを即座に修正する必要はない - 変更頻度に基づく優先順位付け
- 同じ臭いが異なる文脈で異なる解決策を持つ可能性