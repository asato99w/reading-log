# 第5章：ソフトウェアで表現されたモデル

## 章の概要
オブジェクト指向コードでドメイン概念を表現するための語彙を形成する基本的戦術パターン（エンティティ、値オブジェクト、サービス）を定義します。

## 主な内容

### エンティティパターン
- ライフサイクル変更を通じて持続する明確なアイデンティティを持つオブジェクト
- 属性等価性ではなくアイデンティティ等価性がエンティティ比較を定義
- エンティティはアイデンティティ連続性を維持しながら属性を変更可能
- アイデンティティはエンティティライフサイクル全体を通じて安定かつ意味深く設計される必要

### 値オブジェクトパターン
- 明確なアイデンティティなしで属性のみによって完全に定義されるオブジェクト
- 副作用なしで自由に共有・置換可能な不変オブジェクト
- オブジェクトアイデンティティではなくすべての属性に基づく等価性
- 値オブジェクトはドメイン概念を表す完全な概念単位として設計されるべき

### サービスパターン
- 特定のエンティティや値オブジェクトに自然に属さない操作
- 複数ドメインオブジェクト間を調整するステートレス操作
- サービスはユビキタス言語を使用し、ドメイン操作に焦点を当てるべき
- すべてロジックがサービスにある貧血ドメインモデルを避けるため控えめに使用されるべき

## 重要ポイント
- **アイデンティティ vs. 値**：エンティティ（アイデンティティベース）と値オブジェクト（属性ベース）の明確な区別が適切なドメインモデリングの基盤を提供
- **不変性の利益**：値オブジェクトの不変性により多くの並行性と状態管理問題が排除され、ドメイン操作に関する推論が簡素化
- **サービス抑制**：ドメインサービスはエンティティと値オブジェクト動作を置き換えるのではなく補完し、豊かなドメインモデルを維持すべき