# 第13章：より深い洞察に向けたリファクタリング

## 章の概要
より深いドメイン理解を使って設計と実装の両方を改善するリファクタリングによる体系的モデル進化アプローチを提示します。

## 主な内容

### 洞察駆動リファクタリング
- リファクタリングは純粋技術的関心ではなく、より深いドメイン理解により動機づけられるべき
- モデル改善には段階的変更ではなく、しばしば重要な再構築が必要
- 成功したリファクタリングが暗黙ドメイン概念を明示化し人工制約を排除
- リファクタリングサイクルはモデル洗練と実装調整間で交互に行うべき

### リファクタリング機会認識
- 複雑条件ロジックは抽出すべき欠如ドメイン概念を示すことが多い
- ドメインオブジェクト全体の重複コードは明示的モデリングが必要な共有概念を明らかにする可能性
- 新機能実装の困難は構造変更を必要とするモデル不備を示唆
- モデル概念に関するドメインエキスパートの混乱はビジネス現実とのより良い整合の必要性を示す

### 体系的改善プロセス
- 外部動作を変更しない小さく安全なリファクタリングから開始
- 理解と信頼度が向上するにつれて段階的により大きな構造変更に取り組む
- 複雑ドメインロジックの自信あるリファクタリングを可能にする包括的テストを維持
- リファクタリングされたモデルがビジネス現実をより良く反映することを確実にするためドメインエキスパートを評価に関与させる

## 重要ポイント
- **理解駆動変更**：最も価値あるリファクタリングは技術的負債削減ではなく改善されたドメイン理解により駆動
- **構造的勇気**：重要なモデル改善には段階的調整により達成できない相当な構造変更がしばしば必要
- **エキスパート検証**：ドメインエキスパートフィードバックがリファクタリングされたモデルがビジネス現実をより良く反映することを検証するため不可欠