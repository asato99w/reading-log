# 第2章: 堕落したオブジェクト

## 章の概要
副作用によるテストの問題を発見し、値オブジェクト（Value Object）パターンを導入してオブジェクトの不変性を確保。equalsメソッドの実装を通じて、オブジェクト比較の重要性を学ぶ。

## 主な内容
- **副作用の問題発見**
  - Dollar オブジェクトが times() 呼び出しで変更される問題の特定
  - 副作用によるテスト間の相互干渉の理解
  - 予期しない動作によるバグの発生メカニズム
  - オブジェクトの状態変化が引き起こす問題の分析

- **値オブジェクト（Value Object）パターン**
  - 不変オブジェクトとしての Dollar の再設計
  - times() メソッドが新しいオブジェクトを返すように変更
  - 値による等価性の概念と実装
  - オブジェクト指向設計における不変性の重要性

- **equals() メソッドの実装**
  - オブジェクト同士の等価性比較の実装
  - Java の equals() 契約の理解と適用
  - テストにおける等価性チェックの活用
  - 値オブジェクトの比較ロジックの設計

## 重要ポイント
- 副作用は予期しないバグの原因となるため、不変オブジェクトの設計が重要
- 値オブジェクトは等価性に基づいて比較され、同じ値を持つオブジェクトは交換可能
- equals() メソッドの適切な実装は、テストの信頼性と可読性を大幅に向上させる