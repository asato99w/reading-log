# 第18章：Iterator（動作パターン）

## 章の概要
基盤表現を公開することなく集約オブジェクトの要素に順次アクセスする方法を提供します。

## 主な内容

### 意図と構造
- 内部構造を公開せずに集約オブジェクトの要素へのアクセスを提供
- 集約オブジェクトの複数横断を同時にサポート
- 異なる集約構造を横断するための統一インターフェースを提供
- 同じクライアントコードが異なる集約タイプで動作する多態的反復を可能

### パターン参加者
- **Iterator**：要素アクセスと横断のためのインターフェース
- **ConcreteIterator**：Iteratorインターフェースを実装し、横断での現在位置を追跡
- **Aggregate**：Iteratorオブジェクト作成のためのインターフェース
- **ConcreteAggregate**：適切なConcreteIteratorインスタンスを返すIterator作成を実装

### 実装上の考慮事項
- クライアントによって制御される外部イテレーターと、反復を自身で制御する内部イテレーター
- 堅牢なイテレーターは反復中に集約が変更されても有効のまま
- 複数のイテレーターが同じ集約を同時に横断可能
- イテレーターは基本横断を超えた追加操作を提供可能

## 重要ポイント
- **カプセル化**：Iteratorが集約の内部構造を公開せずに要素へのアクセスを提供
- **統一インターフェース**：同じイテレーターインターフェースが異なるタイプの集約構造で動作
- **複数横断**：複数のイテレーターが同じ集約を独立かつ同時に横断可能