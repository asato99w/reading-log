# 第17章：Interpreter（動作パターン）

## 章の概要
言語の文法表現と、その表現を使用して言語内の文を解釈するインタープリターを定義します。

## 主な内容

### 意図と構造
- 単純言語の文法表現を定義し、その文法のためのインタープリターを構築
- 言語文が抽象構文木として表現できる場合に使用
- 定義された言語で文法規則によって文の解釈を可能
- 文法が単純で効率が主要関心でない言語をサポート

### パターン参加者
- **AbstractExpression**：抽象構文木のすべてのノードに共通の操作を実行するインターフェース
- **TerminalExpression**：文法内の終端記号のための解釈操作を実装
- **NonterminalExpression**：非終端記号の解釈操作を実装、他の式への参照を維持
- **Context**：インタープリターにグローバルな情報を含み、解釈中に各式に渡される
- **Client**：抽象構文木を構築し解釈操作を呼び出す

### 実装上の考慮事項
- 各文法規則が実装内のクラスになる
- 抽象構文木は解釈開始前にクライアントによって構築される
- Contextオブジェクトはグローバル状態を保存し式にサービスを提供可能
- 式クラスを変更せずに新操作を追加するためVisitorパターンを使用可能

## 重要ポイント
- **文法表現**：各文法規則がクラスによって表現され、言語構造をコード内で明示的にする
- **構成可能解釈**：文法規則に従ってより単純な式を構成することで複雑な式を構築
- **ドメイン固有言語**：ドメイン固有言語と式評価器の実装に特に有用