# 第15章：Chain of Responsibility（動作パターン）

## 章の概要
リクエストを処理するハンドラーのチェーンに沿って渡し、そのうち1つがリクエストを処理するまで続け、送信者と受信者を分離します。

## 主な内容

### 意図と構造
- 複数のオブジェクトにリクエスト処理の機会を与えることで、リクエスト送信者と受信者の結合を避ける
- 受信オブジェクトをチェーン化し、オブジェクトが処理するまでチェーンに沿ってリクエストを渡す
- 個々のハンドラーを修正せずにハンドラーチェーンの動的設定を可能
- 実行時条件に基づいて同じリクエストタイプを複数のオブジェクトが処理可能

### パターン参加者
- **Handler**：リクエスト処理とチェーン内の後続者へのアクセスのためのインターフェース
- **ConcreteHandler**：責任を持つリクエストを処理し、後続者にアクセス可能
- **Client**：チェーン上のConcreteHandlerオブジェクトにリクエストを開始

### 実装上の考慮事項
- ハンドラーはリクエストを処理するか、チェーン内の後続者に転送可能
- リクエストは正確に1つのハンドラーまたは順次複数のハンドラーによって処理可能
- チェーン設定は静的（コンパイル時）または動的（実行時）
- チェーン終了は明示的終了マーカーまたはnull後続者によって処理

### チェーンバリエーション
- 各ハンドラーが完全に処理するか転送する純粋チェーン
- 複数ハンドラーが同じリクエストを処理できる部分処理
- 処理に関係なくすべてのハンドラーにリクエストが送信される放送

## 重要ポイント
- **分離されたコミュニケーション**：送信者はリクエストを処理するオブジェクトやチェーン内のオブジェクト数を知る必要がない
- **動的チェーン設定**：ハンドラーチェーンを実行時に設定してリクエスト処理動作を変更可能
- **柔軟なリクエスト処理**：複数のオブジェクトが潜在的にリクエストを処理でき、処理ロジックをチェーン全体に分散可能